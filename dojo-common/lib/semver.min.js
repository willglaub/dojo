(function(b){function r(a){return[a[1]||"",a[2]||"",a[3]||""].join(".")+(a[4]||"")+(a[5]||"")}function p(a){return"string"!==typeof a?null:b.parse(a)&&a.trim().replace(/^[v=]+/,"")}function q(a){return(a||"").trim().replace(g.parseRange,b.rangeReplace).replace(x,y).split(/\s+/).join(" ").split("||").map(function(a){return a.replace(RegExp("("+s+")\\s+"),"$1").split(" ").map(z).map(A).map(k).join(" ").trim()}).map(function(a){return a.trim().split(/\s+/).filter(function(a){return a.match(g.validComparator)})}).filter(function(a){return a.length})}
function k(a){return a.trim().replace(B,C)}function z(a){return a.split(/\s+/).map(D).join(" ")}function D(a){return a.trim().replace(g.parseXRange,function(a,c,e,d,b,f){f=!e||"x"===e.toLowerCase()||"*"===e||!d||"x"===d.toLowerCase()||"*"===d||!b||"x"===b.toLowerCase()||"*"===b;if(c&&f)(!e||"*"===e||"x"===e.toLowerCase())&&(e=0),(!d||"*"===d||"x"===d.toLowerCase())&&(d=0),(!b||"*"===b||"x"===b.toLowerCase())&&(b=0),a=c+e+"."+d+"."+b+"-";else if(!e||"*"===e||"x"===e.toLowerCase())a="*";else if(!d||
"*"===d||"x"===d.toLowerCase())a=">="+e+".0.0- <"+(+e+1)+".0.0-";else if(!b||"*"===b||"x"===b.toLowerCase())a=">="+e+"."+d+".0- <"+e+"."+(+d+1)+".0-";return a})}function A(a){return a.trim().replace(g.parseSpermy,function(a,c,b,d,f,g){if(c)throw Error("Using '"+c+"' with ~ makes no sense. Don't do it.");return!b||"x"===b.toLowerCase()?"":!d||"x"===d.toLowerCase()?">="+b+".0.0- <"+(+b+1)+".0.0-":!f||"x"===f.toLowerCase()?">="+b+"."+d+".0- <"+b+"."+(+d+1)+".0-":">="+b+"."+d+"."+f+(g||"-")+" <"+b+"."+
(+d+1)+".0-"})}function t(a,b){a=p(a);if(!a)return!1;b=q(b);for(var c=0,e=b.length;c<e;c++){for(var d=!1,g=0,l=b[c].length;g<l;g++){var d=b[c][g],m=">"===d.charAt(0)?f:"<"===d.charAt(0)?u:!1,k="="===d.charAt(!!m),n=!!k+!!m;m||(k=!0);d=d.substr(n);d=""===d?d:p(d);d=""===d||k&&d===a||m&&m(a,d);if(!d)break}if(d)return!0}return!1}function n(a,b){var c=f(a,b);return null===c?0:c?1:-1}function u(a,b){return f(b,a)}function v(a,b){return null===f(a,b)}function w(a,b){return null!==f(a,b)}function l(a){return void 0===
a?-1:parseInt((a||"0").replace(/[^0-9]+/g,""),10)}function f(a,h){a=b.parse(a);h=b.parse(h);if(!a||!h)return!1;for(var c=1;5>c;c++){a[c]=l(a[c]);h[c]=l(h[c]);if(a[c]>h[c])return!0;if(a[c]!==h[c])return!1}var c=a[5]||"",e=h[5]||"";return c===e?null:!c?!0:!e?!1:c>e}var s="(?:~>?)",g=b.expressions={parse:/^\s*\s*[v=]*\s*([0-9]+)\.([0-9]+)\.([0-9]+)(-[0-9]+-?)?([a-zA-Z-+][a-zA-Z0-9-.:]*)?\s*$/,parsePackage:RegExp("^\\s*([^/]+)[-@](\\s*[v=]*\\s*([0-9]+)\\.([0-9]+)\\.([0-9]+)(-[0-9]+-?)?([a-zA-Z-+][a-zA-Z0-9-.:]*)?)\\s*$"),
parseRange:RegExp("^\\s*(\\s*[v=]*\\s*([0-9]+)\\.([0-9]+)\\.([0-9]+)(-[0-9]+-?)?([a-zA-Z-+][a-zA-Z0-9-.:]*)?)\\s+-\\s+(\\s*[v=]*\\s*([0-9]+)\\.([0-9]+)\\.([0-9]+)(-[0-9]+-?)?([a-zA-Z-+][a-zA-Z0-9-.:]*)?)\\s*$"),validComparator:RegExp("^^((<|>)?=?)s*(\\s*[v=]*\\s*([0-9]+)\\.([0-9]+)\\.([0-9]+)(-[0-9]+-?)?([a-zA-Z-+][a-zA-Z0-9-.:]*)?)$|^$$"),parseXRange:RegExp("^((?:<|>)=?)?\\s*[v=]*([0-9]+|x|X|\\*)(?:\\.([0-9]+|x|X|\\*)(?:\\.([0-9]+|x|X|\\*)([a-zA-Z-][a-zA-Z0-9-.:]*)?)?)?$"),parseSpermy:RegExp("^"+
(s+"((?:<|>)=?)?\\s*[v=]*([0-9]+|x|X|\\*)(?:\\.([0-9]+|x|X|\\*)(?:\\.([0-9]+|x|X|\\*)([a-zA-Z-][a-zA-Z0-9-.:]*)?)?)?")+"$")};Object.getOwnPropertyNames(g).forEach(function(a){b[a]=function(b){return(""+(b||"")).match(g[a])}});b.rangeReplace=">=$1 <=$7";b.clean=function(a){a=b.parse(a);return!a?a:r(a)};b.compare=n;b.rcompare=function(a,b){return n(b,a)};b.satisfies=t;b.gt=f;b.gte=function(a,b){return!f(b,a)};b.lt=u;b.lte=function(a,b){return!f(a,b)};b.eq=v;b.neq=w;b.cmp=function(a,b,c){switch(b){case ">":return f(a,
c);case "<":return f(c,a);case ">=":return!f(c,a);case "<=":return!f(a,c);case "==":return v(a,c);case "!=":return w(a,c);case "===":return a===c;case "!==":return a!==c;default:throw Error("Y U NO USE VALID COMPARATOR!? "+b);}};b.inc=function(a,f){a=b.parse(a);if(!a)return null;var c={major:1,minor:2,patch:3,build:4}[f];if(void 0===c)return null;var e=l(a[c]);a[c]=-1===e?1:e+1;for(c+=1;5>c;c++)-1!==l(a[c])&&(a[c]="0");a[4]&&(a[4]="-"+a[4]);a[5]="";return r(a)};b.valid=p;b.validPackage=function(a){return"string"!==
typeof a?null:a.match(g.parsePackage)&&a.trim()};b.validRange=function(a){a=k(a);a=q(a);return 0===a.length?null:a.map(function(a){return a.join(" ")}).join("||")};b.maxSatisfying=function(a,b){return a.filter(function(a){return t(a,b)}).sort(n).pop()||null};b.replaceStars=k;b.toComparators=q;var B=/(<|>)?=?\s*\*/g,C="",x=RegExp("((<|>)?=|<|>)\\s*(\\s*[v=]*\\s*([0-9]+)\\.([0-9]+)\\.([0-9]+)(-[0-9]+-?)?([a-zA-Z-+][a-zA-Z0-9-.:]*)?|[v=]*([0-9]+|x|X|\\*)(?:\\.([0-9]+|x|X|\\*)(?:\\.([0-9]+|x|X|\\*)([a-zA-Z-][a-zA-Z0-9-.:]*)?)?)?)",
"g"),y="$1$3"})("object"===typeof exports?exports:semver={});
