#!/usr/bin/env node

var path = require("path"),
    bcrypt = require(path.join(__dirname, '..', 'bcrypt.js')),
    pkg = require(path.join(__dirname, '..', 'package.json'));

if (process.argv.length < 3) {
    process.stderr.write([
        "",
        " |_  _ _   _ |_",
        " |_)(_| \\/|_)|_ v"+pkg['version']+" by "+pkg['author'],
        "        / |     "
    ].join('\n')+'\n\n');
    process.stderr.write(" Usage: "+path.basename(process.argv[1])+" <input> [salt]\n");
    process.exit(1);
}
process.stdout.write(bcrypt.hashSync(process.argv[2], process.argv.length > 3 ? process.argv[3] : bcrypt.genSaltSync())+"\n");
